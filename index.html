<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Apod Video Player</title>
  <style>
    body { margin: 0; background: #000; overflow: hidden; }
    #video-container { position: relative; width: 100vw; height: 100vh; }
    video { width: 100%; height: 100%; object-fit: contain; background: #000; }
    #controls {
      position: absolute; bottom: 10px; left: 10px;
      background: rgba(0, 0, 0, 0.5); padding: 10px;
      border-radius: 10px; color: white;
    }
    #controls select, #controls button { margin-right: 10px; }
  </style>
</head>
<body>
  <div id="video-container">
    <video id="video" controls autoplay playsinline muted>
      <source src="https://pixeldrain.com/api/file/WXNGUcLE" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
    <div id="controls">
      <label>Speed:
        <select id="speedControl">
          <option value="1">1x</option>
          <option value="1.1">1.1x</option>
          <option value="1.2">1.2x</option>
          <option value="1.5">1.5x</option>
          <option value="2">2x</option>
        </select>
      </label>
      <button id="fullscreenBtn">Fullscreen</button>
    </div>
  </div>
  <script>
    const video = document.getElementById('video');
    const speedControl = document.getElementById('speedControl');
    const fullscreenBtn = document.getElementById('fullscreenBtn');// Speed control
speedControl.addEventListener('change', () => {
  video.playbackRate = parseFloat(speedControl.value);
});

// Fullscreen
fullscreenBtn.addEventListener('click', () => {
  if (video.requestFullscreen) {
    video.requestFullscreen();
  } else if (video.webkitRequestFullscreen) {
    video.webkitRequestFullscreen();
  } else if (video.msRequestFullscreen) {
    video.msRequestFullscreen();
  }
});

// Middle double tap = Play/Pause
let lastTap = 0;
video.addEventListener('touchend', function (e) {
  const currentTime = new Date().getTime();
  const tapLength = currentTime - lastTap;
  if (tapLength < 300 && tapLength > 0) {
    if (video.paused) video.play();
    else video.pause();
  }
  lastTap = currentTime;
});

// Long press = 2x speed
let pressTimer;
video.addEventListener('touchstart', function (e) {
  pressTimer = window.setTimeout(() => {
    video.playbackRate = 2;
  }, 700);
});
video.addEventListener('touchend', function (e) {
  clearTimeout(pressTimer);
});

// Swipe gestures
let startX, startY;
video.addEventListener('touchstart', (e) => {
  startX = e.touches[0].clientX;
  startY = e.touches[0].clientY;
});

video.addEventListener('touchmove', (e) => {
  if (!startX || !startY) return;

  let diffX = e.touches[0].clientX - startX;
  let diffY = e.touches[0].clientY - startY;

  if (Math.abs(diffX) > Math.abs(diffY)) {
    // Horizontal swipe = Seek
    if (diffX > 0) video.currentTime += 5;
    else video.currentTime -= 5;
  } else {
    if (startX > window.innerWidth / 2) {
      // Right swipe = Volume
      if (diffY < 0) video.volume = Math.min(1, video.volume + 0.05);
      else video.volume = Math.max(0, video.volume - 0.05);
    } else {
      // Left swipe = Brightness (simulated with opacity)
      const newOpacity = Math.max(0.3, Math.min(1, 1 - diffY / 300));
      video.style.filter = `brightness(${newOpacity})`;
    }
  }
  startX = null;
  startY = null;
});

  </script>
</body>
</html>
