<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Apod Video Player</title>
  <style>
    body { margin: 0; background: #000; overflow: hidden; }
    video { width: 100vw; height: 100vh; object-fit: contain; background: #000; }
    #speedControl {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      padding: 10px;
      border-radius: 10px;
    }
    #fullscreenBtn {
      position: absolute;
      top: 20px;
      left: 20px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      padding: 10px;
      border-radius: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <video id="video" controls crossorigin="anonymous">
    <source src="https://pixeldrain.com/api/file/WXNGUcLE" type="video/mp4" />
    Your browser does not support HTML5 video.
  </video>  <div id="fullscreenBtn">[ Fullscreen ]</div>
  <div id="speedControl">
    Speed:
    <select id="speedSelector">
      <option value="1">1x</option>
      <option value="1.1">1.1x</option>
      <option value="1.2">1.2x</option>
      <option value="1.5">1.5x</option>
      <option value="2">2x</option>
    </select>
  </div>  <script>
    const video = document.getElementById('video');

    // Fullscreen Toggle
    document.getElementById('fullscreenBtn').addEventListener('click', () => {
      if (!document.fullscreenElement) {
        video.requestFullscreen();
      } else {
        document.exitFullscreen();
      }
    });

    // Speed Selector
    document.getElementById('speedSelector').addEventListener('change', (e) => {
      video.playbackRate = parseFloat(e.target.value);
    });

    // Middle Double Tap Play/Pause
    let lastTap = 0;
    video.addEventListener('touchstart', (e) => {
      const currentTime = new Date().getTime();
      const tapLength = currentTime - lastTap;
      if (tapLength < 300 && tapLength > 0) {
        if (e.touches[0].clientX > window.innerWidth / 3 && e.touches[0].clientX < (2 * window.innerWidth) / 3) {
          if (video.paused) video.play();
          else video.pause();
        }
      }
      lastTap = currentTime;
    });

    // Swipe Controls
    let initialX = null;
    let initialY = null;
    video.addEventListener('touchstart', function (e) {
      const touch = e.touches[0];
      initialX = touch.clientX;
      initialY = touch.clientY;
    });

    video.addEventListener('touchmove', function (e) {
      if (!initialX || !initialY) return;

      let currentX = e.touches[0].clientX;
      let currentY = e.touches[0].clientY;

      let diffX = currentX - initialX;
      let diffY = currentY - initialY;

      if (Math.abs(diffX) > Math.abs(diffY)) {
        // Seek
        if (diffX > 0) video.currentTime += 2;
        else video.currentTime -= 2;
      } else {
        if (initialX < window.innerWidth / 2) {
          // Brightness control placeholder (not supported in browsers)
          console.log('Brightness swipe');
        } else {
          // Volume
          video.volume = Math.min(Math.max(video.volume + (diffY < 0 ? 0.05 : -0.05), 0), 1);
        }
      }

      initialX = null;
      initialY = null;
    });

    // Long press = 2x speed
    let pressTimer;
    video.addEventListener('touchstart', function(e) {
      pressTimer = setTimeout(() => {
        video.playbackRate = 2;
      }, 500);
    });

    video.addEventListener('touchend', function(e) {
      clearTimeout(pressTimer);
    });
  </script></body>
</html>
